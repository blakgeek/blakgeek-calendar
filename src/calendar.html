<div ng-click="toggle()" class="bg-cal-datetime">{{ngModel|moment:'MM/DD/YYYY @ h:mm a'}}</div>
<div ng-click="toggle()" class="bg-cal-toggle"></div>
<div class="bg-cal-calendar">
    <header>
        <div ng-click="prev()" class="bg-cal-prev"></div>
        <div class="bg-cal-month-year">{{month}} {{year}}</div>
        <div ng-click="next()" class="bg-cal-next"></div>
    </header>
    <main>
        <table>
            <thead>
                <tr>
                    <th>Sun</th>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="week in weeks">
                    <td ng-repeat="day in week track by $index"
                        ng-class="{'bg-cal-day': day !== null, 'bg-cal-blank': day === null, 'bg-cal-selected': isSelected(day)}"
                        ng-click="select(day)">{{day.d}}
                    </td>
                </tr>
            </tbody>
        </table>
    </main>
    <footer>
        <div class="bg-cal-time">
            {{ngModel|moment:'h:mm a'}}
            <select ng-options="t.value as t.display for t in times" ng-model="time"></select>
        </div>
    </footer>
</div>
